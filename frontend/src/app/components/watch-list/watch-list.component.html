<section class="text-gray-800 py-8">
    <div class="max-w-[960px] mx-auto px-4 sm:px-6 lg:px-8">
        <h1 class="text-3xl font-bold">Watch List</h1>
        <nav class="mt-6">
            <div class="flex justify-between items-center">
                <ul class="flex flex-wrap gap-3 flex-grow">
                    <li *ngFor="let item of watchList" class="relative">
                        <div class="relative group">
                            <button (click)="showMovies(item)" 
                                    [ngClass]="{'bg-blue-600 text-white shadow-lg': selectedWatchList?.watchlistId === item.watchlistId,
                                              'bg-white text-gray-700': selectedWatchList?.watchlistId !== item.watchlistId}"
                                    class="flex items-center px-5 py-2.5 rounded-lg border border-gray-200 
                                           transition-all duration-200 
                                           hover:border-blue-300 hover:shadow-md
                                           font-medium text-base min-w-[120px]">
                                <span class="mr-6">{{ item.name }}</span>
                                <span (click)="removeItem(item); $event.stopPropagation()" 
                                      class="absolute right-3 top-1/2 -translate-y-1/2
                                             opacity-0 group-hover:opacity-100
                                             transition-opacity duration-200
                                             hover:text-red-500 cursor-pointer"
                                      title="Remove from watchlist">
                                    <i class="fa fa-x text-xs"></i>
                                </span>
                            </button>
                        </div>
                    </li>
                </ul>
                <button (click)="openCreateDialog()" 
                        class="ml-4 px-4 py-2.5 bg-blue-600 text-white rounded-lg 
                               transition-all duration-200 
                               hover:bg-blue-700 hover:shadow-md
                               flex items-center gap-2">
                    <i class="fa fa-plus text-sm"></i>
                    <span>New List</span>
                </button>
            </div>
        </nav>
        
        <!-- Create Watchlist Dialog -->
        <div *ngIf="showCreateDialog" 
             class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg p-6 w-full max-w-md shadow-xl" 
                 (click)="$event.stopPropagation()">
                <h2 class="text-xl font-semibold mb-4">Create New Watch List</h2>
                <form (ngSubmit)="createWatchlist()" #createForm="ngForm">
                    <div class="mb-4">
                        <label for="listName" class="block text-sm font-medium text-gray-700 mb-2">
                            List Name
                        </label>
                        <input type="text" 
                               id="listName" 
                               name="listName" 
                               [(ngModel)]="newListName"
                               required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md 
                                      focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="flex justify-end gap-3">
                        <button type="button" 
                                (click)="closeCreateDialog()"
                                class="px-4 py-2 text-gray-600 hover:text-gray-800">
                            Cancel
                        </button>
                        <button type="submit" 
                                [disabled]="!createForm.valid || isCreating"
                                class="px-4 py-2 bg-blue-600 text-white rounded-md
                                       hover:bg-blue-700 disabled:bg-blue-300">
                            {{ isCreating ? 'Creating...' : 'Create' }}
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <div *ngIf="selectedWatchList" class="mt-8">
            <ul class="mt-4 space-y-4">
                <li *ngFor="let movie of selectedWatchList.movies" 
                    class="bg-white rounded-lg shadow-sm p-4 transition-all duration-200 hover:shadow-md">
                    <div class="flex items-center space-x-4">
                        <img [src]="getImageUrl(movie.posterPath)" 
                             alt="{{ movie.title }}" 
                             class="w-16 h-24 object-cover rounded-md shadow-sm">
                        <div>
                            <h3 class="text-xl font-semibold">{{ movie.title }}</h3>
                            <p class="text-gray-600">Release Date: {{ movie.releaseDate }}</p>
                            <p class="text-gray-600">Runtime: {{ movie.runtime ? movie.runtime + ' mins' : 'N/A' }}</p>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</section>